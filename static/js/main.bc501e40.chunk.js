(this.webpackJsonpsimpleAudioPlayer=this.webpackJsonpsimpleAudioPlayer||[]).push([[0],{335:function(e,t,n){"use strict";n.r(t);var c=n(55),r=Object(c.b)({name:"audioPlayer",initialState:{currentTime:0,duration:0},reducers:{setCurrentTime:function(e,t){e.currentTime=t.payload},setDuration:function(e,t){e.duration=t.payload}}}),i=r.actions,a=i.setCurrentTime,o=i.setDuration,u=function(e){return e.audioPlayer.currentTime},l=function(e){return e.audioPlayer.duration},s=r.reducer,d=Object(c.b)({name:"files",initialState:{uploadFiles:[],selectedFile:null},reducers:{addUploadFile:function(e,t){e.uploadFiles.push(t.payload)},setSelectFile:function(e,t){e.selectedFile=t.payload}}}),b=d.actions,j=b.addUploadFile,f=b.setSelectFile,p=function(e){return e.files.uploadFiles},O=function(e){return e.files.selectedFile},m=d.reducer,v=Object(c.b)({name:"global",initialState:{loading:!1},reducers:{setLoading:function(e,t){e.loading=t.payload}}}),x=v.actions.setLoading,g=function(e){return e.global.loading},y=v.reducer,h=Object(c.a)({reducer:{files:m,audioPlayer:s,global:y}}),C=n(0),T=n.n(C),w=n(21),k=n.n(w),F=n(28),P=n(125),S=n.n(P),I=n(106),L=n(185),_=n(166),A=n(69),z=n(353),N=n(343),U=n(346),B=n(175),D=n(347),E=n(92),R=n.n(E),J=n(181),M=n.n(J),G=(n(87),n(348)),V=n(349),q=n(350),H=n(351),K=n(352),Q=n(44),W=Object(Q.a)(D.a).withConfig({displayName:"components__ToggleButton",componentId:"sshjw4-0"})(["&.ant-btn,&.ant-btn:focus{background-color:",";border-color:",";}&.ant-btn:hover{background-color:",";border-color:",";}"],(function(e){return e.active?"#095cb5":null}),(function(e){return e.active?"#095cb5":null}),(function(e){return e.active?"#177ddc":null}),(function(e){return e.active?"#177ddc":null})),X=n(13),Y=Q.a.div.withConfig({displayName:"AudioPlayer__Player",componentId:"nfj785-0"})(["display:flex;background-color:#434343;padding:10px;align-items:center;position:fixed;bottom:0px;left:0px;right:0px;& > button{margin:0px 2px;}"]);var Z=function(e){var t=e.audioFile,n=Object(C.useState)(!1),c=Object(A.a)(n,2),r=c[0],i=c[1],s=Object(C.useState)(!1),d=Object(A.a)(s,2),b=d[0],j=d[1],f=Object(C.useState)(!1),p=Object(A.a)(f,2),O=p[0],m=p[1],v=Object(C.useRef)(null),x=Object(F.b)(),g=Object(F.c)(l),y=function(e){v.current.currentTime=e},h=function(e,t){return!(!e||!t)&&e===t};return Object(C.useEffect)((function(){var e,t;r?null===(e=v.current)||void 0===e||e.play():null===(t=v.current)||void 0===t||t.pause()}),[r,t]),Object(X.jsxs)(Y,{children:[Object(X.jsx)(D.a,{disabled:!b,size:"large",type:"primary",shape:"circle",icon:Object(X.jsx)(G.a,{}),onClick:function(){y(0)}}),Object(X.jsx)(D.a,{disabled:!b,size:"large",type:"primary",shape:"circle",icon:Object(X.jsx)(V.a,{}),onClick:function(){y(g),i(!1)}}),Object(X.jsx)(W,{disabled:!b,size:"large",type:"primary",shape:"circle",icon:Object(X.jsx)(q.a,{}),active:O?1:0,onClick:function(){m((function(e){return!e}))}}),r?Object(X.jsx)(D.a,{disabled:!b,size:"large",type:"primary",shape:"circle",icon:Object(X.jsx)(H.a,{}),onClick:function(){i(!1)}}):Object(X.jsx)(D.a,{disabled:!b,size:"large",type:"primary",shape:"circle",icon:Object(X.jsx)(K.a,{}),onClick:function(){i(!0)}}),Object(X.jsx)(ae,{selector:u}),Object(X.jsx)("audio",{src:t.src,id:"audio",ref:v,onCanPlay:function(){j(!0)},onLoadedData:function(){var e;x(o((null===v||void 0===v||null===(e=v.current)||void 0===e?void 0:e.duration)||0))},onTimeUpdate:function(){var e,t,n,c,r,o;(x(a((null===v||void 0===v||null===(e=v.current)||void 0===e?void 0:e.currentTime)||0)),h((null===v||void 0===v||null===(t=v.current)||void 0===t?void 0:t.currentTime)||0,(null===v||void 0===v||null===(n=v.current)||void 0===n?void 0:n.duration)||0)&&O)&&(y(0),null===(o=v.current)||void 0===o||o.play());h(null===v||void 0===v||null===(c=v.current)||void 0===c?void 0:c.currentTime,null===v||void 0===v||null===(r=v.current)||void 0===r?void 0:r.duration)&&i(!1)}}),Object(X.jsx)(te,{setAudioCurrentTime:y,setIsPlaying:i,isPlaying:r}),Object(X.jsx)(ae,{selector:l})]})},$=n(345),ee=Object(Q.a)($.a).withConfig({displayName:"TimeBar__Slider",componentId:"sc-1dfzzk2-0"})(["flex:1;"]);var te=function(e){var t=e.setAudioCurrentTime,n=e.setIsPlaying,c=e.isPlaying,r=Object(F.c)(l),i=Object(F.c)(u),a=Object(C.useRef)(null);return Object(X.jsx)(ee,{value:i,min:0,max:r,onChange:function(e){null===a.current&&(a.current=c),n(!1),t(e)},onAfterChange:function(e){n(!!a.current),a.current=null}})},ne=n(344),ce=function(e){return e<10?"0".concat(e):"".concat(e)},re=function(e){var t=Object(ne.a)({start:0,end:1e3*e});return"".concat(ce(t.minutes||0),":").concat(ce(t.seconds||0))},ie=Q.a.div.withConfig({displayName:"TimeBlock__Time",componentId:"sc-19moeme-0"})(["margin:0px 7px;"]);var ae=function(e){var t=e.selector,n=Object(F.c)(t);return Object(X.jsx)(ie,{children:re(n)})},oe=n(342),ue=n(177),le=n.n(ue),se=oe.b.Item,de=Object(Q.a)(se).withConfig({displayName:"TrackList__ListItem",componentId:"uwcdlu-0"})(["&:hover{cursor:pointer;background-color:#095cb575;}&&{background-color:",";}"],(function(e){return e.selected?"#095cb5":null}));var be=function(){var e=Object(F.c)(p),t=Object(F.b)(),n=Object(F.c)(O);return Object(X.jsx)(oe.b,{itemLayout:"horizontal",dataSource:e,renderItem:function(e){return Object(X.jsx)(de,{selected:(null===n||void 0===n?void 0:n.uid)===e.uid?1:0,style:{},onClick:function(){t(f(e))},children:Object(X.jsx)(de.Meta,{avatar:Object(X.jsx)(le.a,{src:e.cover}),title:e.artist,description:e.title})})}})},je=n(179),fe=n(84),pe=n(180),Oe=N.a.TabPane,me=["audio/wav","audio/mpeg","audio/mp4","audio/aac","audio/aacp","audio/ogg","audio/webm","audio/x-caf","audio/flac"];var ve=function(){var e=Object(F.b)(),t=Object(F.c)(p),n=Object(F.c)(O),c=Object(F.c)(g),r=Object(C.useState)(!1),i=Object(A.a)(r,2),a=i[0],o=i[1];function u(){return(u=Object(_.a)(S.a.mark((function t(n){var c,r,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x(!0)),t.prev=1,t.next=4,s(n);case 4:return c=t.sent,t.next=7,l(n);case 7:return r=t.sent,t.next=10,d(r);case 10:i=t.sent,e(j({uid:n.uid,type:n.type,cover:i,album:Object(fe.get)(r,"album"),artist:Object(fe.get)(r,"artist"),title:Object(fe.get)(r,"title"),year:Object(fe.get)(r,"year"),src:c})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),U.b.error("Error while processing audio files");case 17:return t.prev=17,e(x(!1)),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})))).apply(this,arguments)}function l(e){return new Promise((function(t,n){je.read(e,{onSuccess:function(e){var n=e.tags;t(n)},onError:function(e){n(e)}})}))}function s(e){return new Promise((function(t,n){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){t(c.result)},c.onerror=function(e){n(e)}}))}var d=function(e){var t=e.picture;if(!t)return null;var n=t.data.map((function(e){return String.fromCharCode(e)})).join("");return"data:".concat(t.format,";base64,").concat(window.btoa(n))};return Object(C.useEffect)((function(){t.length>0?o(!1):o(!0)}),[t]),Object(X.jsxs)(B.a,{spinning:c,children:[Object(X.jsx)(R.a,{title:"Upload your favourite music",visible:a,closable:!1,footer:null,centered:!0,children:Object(X.jsx)(M.a,{multiple:!0,showUploadList:!1,beforeUpload:function(e){var t;return t=e.type,me.includes(t)?function(e){u.apply(this,arguments)}(e):U.b.error("Incorrect audio format from ".concat(e.name)),!1},children:Object(X.jsx)(D.a,{type:"primary",loading:c,icon:Object(X.jsx)(z.a,{}),children:"Select Files"})})}),Object(X.jsx)(pe.Scrollbars,{style:{height:"calc(100vh - 60px)"},renderThumbVertical:function(e){var t=e.style,n=Object(L.a)(e,["style"]);return Object(X.jsx)("div",Object(I.a)({className:"bg-color-primary",style:Object(I.a)(Object(I.a)({},t),{color:"red"})},n))},children:t.length>0&&Object(X.jsx)("div",{className:"card-container",children:Object(X.jsxs)(N.a,{type:"card",children:[Object(X.jsx)(Oe,{tab:"All",children:Object(X.jsx)(be,{})},"1"),Object(X.jsx)(Oe,{tab:"Genre",children:Object(X.jsx)("p",{children:"soon"})},"2"),Object(X.jsx)(Oe,{tab:"Artists",children:Object(X.jsx)("p",{children:"soon"})},"3")]})})}),n&&Object(X.jsx)(Z,{audioFile:n})]})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,354)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};k.a.render(Object(X.jsx)(T.a.StrictMode,{children:Object(X.jsx)(F.a,{store:h,children:Object(X.jsx)(ve,{})})}),document.getElementById("root")),xe()},87:function(e,t,n){}},[[335,1,2]]]);
//# sourceMappingURL=main.bc501e40.chunk.js.map