(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{169:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var r=n(50),a=Object(r.b)({name:"audioPlayer",initialState:{},reducers:{setRef:function(e,t){e.htmlRef=t.payload}}}),c=(a.actions.setRef,a.reducer),o=Object(r.b)({name:"global",initialState:{loading:!1},reducers:{setLoading:function(e,t){e.loading=t.payload}}}),i=o.actions.setLoading,u=function(e){return e.global.loading},s=o.reducer,l=Object(r.b)({name:"uploadFiles",initialState:[],reducers:{addFile:function(e,t){e.push(t.payload)}}}),d=l.actions.addFile,b=function(e){return e.uploadFiles},j=l.reducer,p=Object(r.a)({reducer:{uploadFiles:j,audioPlayer:c,global:s}}),f=n(0),g=n.n(f),m=n(22),O=n.n(m),v=n(64),h=n(110),y=n.n(h),x=n(94),w=n(159),F=n(141),S=n(157),k=n(281),C=n(287),I=n(288),L=n(289),E=n(286),P=n(146),R=n(283),T=n(282),U=n(112),A=n(284),D=n(152),z=n.n(D),B=(n(169),n(285)),J=n(142),M=n(65),N=n(143),V=n(15),q=["audio/wav","audio/mpeg","audio/mp4","audio/aac","audio/aacp","audio/ogg","audio/webm","audio/x-caf","audio/flac"];var G=function(){var e,t=Object(f.useRef)(null),n=Object(f.useState)(""),r=Object(S.a)(n,2),a=r[0],c=(r[1],Object(v.b)()),o=Object(v.c)(b),s=Object(v.c)(u);function l(){return(l=Object(F.a)(y.a.mark((function e(n){var r,a,o,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(i(!0)),e.prev=1,e.next=4,p(n);case 4:return r=e.sent,(a=null===t||void 0===t?void 0:t.current)&&(a.src=r),e.next=9,j(n);case 9:return o=e.sent,e.next=12,g(o);case 12:u=e.sent,console.log(o,"tags"),console.log(Object(M.get)(o,"album"),"album"),c(d({uid:n.uid,type:n.type,cover:u,album:Object(M.get)(o,"album"),artist:Object(M.get)(o,"artist"),title:Object(M.get)(o,"title"),year:Object(M.get)(o,"year"),src:r})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),E.b.error("Error while processing audio files");case 21:return e.prev=21,c(i(!1)),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})))).apply(this,arguments)}function j(e){return new Promise((function(t,n){J.read(e,{onSuccess:function(e){var n=e.tags;t(n)},onError:function(e){n(e)}})}))}function p(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){t(r.result)},r.onerror=function(e){n(e)}}))}console.log(o,"files");var g=function(e){var t=e.picture;if(!t)return null;var n=t.data.map((function(e){return String.fromCharCode(e)})).join("");return"data:".concat(t.format,";base64,").concat(window.btoa(n))},m=function(e){return e<10?"0".concat(e):"".concat(e)},O=function(e){var t=Object(B.a)({start:0,end:1e3*e});return"".concat(m(t.minutes||0),":").concat(m(t.seconds||0))};return Object(f.useEffect)((function(){var e=document.getElementById("audio");console.log(e)}),[]),k.a,Object(V.jsx)(P.a,{spinning:s,children:Object(V.jsx)(N.Scrollbars,{style:{height:"100vh"},renderThumbVertical:function(e){var t=e.style,n=Object(w.a)(e,["style"]);return Object(V.jsx)("div",Object(x.a)({className:"bg-color-primary",style:Object(x.a)(Object(x.a)({},t),{color:"red"})},n))},children:Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)("audio",{id:"audio",ref:t,controls:!0,onTimeUpdate:function(e){var n;return console.log(O((null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.currentTime)||0))}}),Object(V.jsx)(R.a,{src:a}),Object(V.jsx)(T.a,{multiple:!0,showUploadList:!1,beforeUpload:function(e){var t;return t=e.type,q.includes(t)?function(e){l.apply(this,arguments)}(e):E.b.error("Incorrect audio format from ".concat(e.name)),!1},children:Object(V.jsx)(U.a,{type:"primary",icon:Object(V.jsx)(C.a,{}),children:"Select File"})}),Object(V.jsx)(U.a,{type:"primary",shape:"circle",size:"large",icon:Object(V.jsx)(I.a,{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.play()}})}),Object(V.jsx)(U.a,{type:"primary",shape:"circle",size:"large",icon:Object(V.jsx)(L.a,{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.pause()}})}),O((null===(e=t.current)||void 0===e?void 0:e.duration)||0),Object(V.jsx)(A.b,{itemLayout:"horizontal",dataSource:o,renderItem:function(e){return Object(V.jsx)(A.b.Item,{children:Object(V.jsx)(A.b.Item.Meta,{avatar:Object(V.jsx)(z.a,{src:e.cover}),title:e.title,description:"Ant Design, a design language for background applications, is refined by Ant UED Team"})})}})]})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};O.a.render(Object(V.jsx)(g.a.StrictMode,{children:Object(V.jsx)(v.a,{store:p,children:Object(V.jsx)(G,{})})}),document.getElementById("root")),H()}},[[275,1,2]]]);
//# sourceMappingURL=main.b8217ef6.chunk.js.map